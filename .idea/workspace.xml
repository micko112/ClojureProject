<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="4d338447-6f3a-43e8-ab8c-95e214f36644" name="Changes" comment="Provezbana funkcija add-xp">
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/project/db.clj" beforeDir="false" afterPath="$PROJECT_DIR$/src/project/db.clj" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="GitHubPullRequestSearchHistory">{
  &quot;lastFilter&quot;: {
    &quot;state&quot;: &quot;OPEN&quot;,
    &quot;assignee&quot;: &quot;micko112&quot;
  }
}</component>
  <component name="GithubPullRequestsUISettings">{
  &quot;selectedUrlAndAccountId&quot;: {
    &quot;url&quot;: &quot;https://github.com/micko112/ClojureProject.git&quot;,
    &quot;accountId&quot;: &quot;3764571a-842a-40c7-838d-20632f3769b4&quot;
  }
}</component>
  <component name="HighlightingSettingsPerFile">
    <setting file="file://$PROJECT_DIR$/src/project/db.clj" root0="FORCE_HIGHLIGHTING" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;associatedIndex&quot;: 5
}</component>
  <component name="ProjectId" id="37ZsZpPnuy4tgd50LQGXH7cfGlR" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">{
  &quot;keyToString&quot;: {
    &quot;Clojure REPL.REPL for ProjectV1.executor&quot;: &quot;Run&quot;,
    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
    &quot;last_opened_file_path&quot;: &quot;C:/xampp/htdocs/Clojure/Clojure for Brave and True/ProjectV1/project.clj&quot;,
    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.lookFeel&quot;,
    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
  }
}</component>
  <component name="ReplState" timestamp="1767634395503">{:repl-history {:ide [], :local [{:command &quot;(ns project.db\n  (:require [datomic.api :as db ]))\n\n(def db-uri \&quot;datomic:dev://localhost:3306/bebetter\&quot;)&quot;, :offset 104, :ns &quot;project.core&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n(def db-uri \&quot;datomic:dev://localhost:3306/bebetter\&quot;)&quot;, :offset 103, :ns &quot;project.db&quot;} {:command &quot;(def db-uri \&quot;datomic:dev://localhost:3306/bebetter\&quot;)&quot;, :offset 52, :ns &quot;project.db&quot;} {:command &quot;(defn connect\n  \&quot;Povezuje se na bazu i vraća konekciju.\&quot;\n  []\n  (d/connect db-uri))\n&quot;, :offset 84, :ns &quot;project.db&quot;} {:command &quot;(defn create-db!\n  \&quot;Kreira bazu ako ne postoji. Ovo se izvršava samo jednom!\&quot;\n  []\n  (println \&quot;Pokušavam da kreiram bazu na\&quot; db-uri)\n  (d/create-database db-uri))&quot;, :offset 162, :ns &quot;project.db&quot;} {:command &quot;(def user-schema [{:db/ident :user/name\n                   :db/valueType :db.type/string\n                   :db/unique :db.unique/identity ; Ime korisnika mora biti jedinstveno\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Korisničko ime\&quot;}\n\n                  {:db/ident :user/xp\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Broj XP poena\&quot;}\n\n                  {:db/ident :user/level\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Nivo korisnika\&quot;}])&quot;, :offset 652, :ns &quot;project.db&quot;} {:command &quot;(defn install-schema!\n  \&quot;Instalira šemu u bazu. Ovo se takođe izvršava samo jednom!\&quot;\n  [conn]\n  (println \&quot;Instaliram šemu...\&quot;)\n  @(d/transact conn user-schema))&quot;, :offset 160, :ns &quot;project.db&quot;} {:command &quot;(defn create-user!\n  \&quot;Kreira novog korisnika u bazi.\&quot;\n  [conn user-name]\n  (println \&quot;Dodajem korisnika:\&quot; user-name)\n  @(d/transact conn [{:user/name user-name\n                      :user/xp 0\n                      :user/level 0}]))\n\n;; Ova funkcija je malo kompleksnija, ali radi ispravno!\n(defn add-xp!\n  \&quot;Dodaje XP poene postojećem korisniku.\&quot;\n  [conn user-id amount]\n  (let [current-xp (d/q '[:find ?xp . ; tačka znači \&quot;vrati mi samo vrednost\&quot;\n                          :in $ ?user-id\n                          :where [?user-id :user/xp ?xp]]\n                        (d/db conn) user-id)\n        new-xp (+ (or current-xp 0) amount)]\n    (println \&quot;Menjam XP za korisnika\&quot; user-id \&quot;sa\&quot; current-xp \&quot;na\&quot; new-xp)\n    @(d/transact conn [{:db/id user-id, :user/xp new-xp}])))\n&quot;, :offset 772, :ns &quot;project.db&quot;} {:command &quot;(defn find-user-by-name\n  \&quot;Pronalazi korisnika po imenu i vraća celu mapu.\&quot;\n  [db-val user-name]\n  (d/pull db-val \&quot;[*]\&quot; [:user/name user-name]))&quot;, :offset 144, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n;; --- 1. PODEŠAVANJA KONEKCIJE ---\n\n(def db-uri \&quot;datomic:dev://localhost:4334/seminarski\&quot;)\n\n(defn connect\n  \&quot;Povezuje se na bazu i vraća konekciju.\&quot;\n  []\n  (d/connect db-uri))\n\n(defn create-db!\n  \&quot;Kreira bazu ako ne postoji. Ovo se izvršava samo jednom!\&quot;\n  []\n  (println \&quot;Pokušavam da kreiram bazu na\&quot; db-uri)\n  (d/create-database db-uri))\n\n\n;; --- 2. DEFINICIJA ŠEME ---\n\n(def user-schema [{:db/ident :user/name\n                   :db/valueType :db.type/string\n                   :db/unique :db.unique/identity ; Ime korisnika mora biti jedinstveno\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Korisničko ime\&quot;}\n\n                  {:db/ident :user/xp\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Broj XP poena\&quot;}\n\n                  {:db/ident :user/level\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Nivo korisnika\&quot;}])\n\n(defn install-schema!\n  \&quot;Instalira šemu u bazu. Ovo se takođe izvršava samo jednom!\&quot;\n  [conn]\n  (println \&quot;Instaliram šemu...\&quot;)\n  @(d/transact conn user-schema))\n\n\n;; --- 3. FUNKCIJE ZA RAD SA KORISNICIMA ---\n\n(defn create-user!\n  \&quot;Kreira novog korisnika u bazi.\&quot;\n  [conn user-name]\n  (println \&quot;Dodajem korisnika:\&quot; user-name)\n  @(d/transact conn [{:user/name user-name\n                      :user/xp 0\n                      :user/level 0}]))\n\n;; Ova funkcija je malo kompleksnija, ali radi ispravno!\n(defn add-xp!\n  \&quot;Dodaje XP poene postojećem korisniku.\&quot;\n  [conn user-id amount]\n  (let [current-xp (d/q '[:find ?xp . ; tačka znači \&quot;vrati mi samo vrednost\&quot;\n                          :in $ ?user-id\n                          :where [?user-id :user/xp ?xp]]\n                        (d/db conn) user-id)\n        new-xp (+ (or current-xp 0) amount)]\n    (println \&quot;Menjam XP za korisnika\&quot; user-id \&quot;sa\&quot; current-xp \&quot;na\&quot; new-xp)\n    @(d/transact conn [{:db/id user-id, :user/xp new-xp}])))\n\n(defn find-user-by-name\n  \&quot;Pronalazi korisnika po imenu i vraća celu mapu.\&quot;\n  [db-val user-name]\n  (d/pull db-val \&quot;[*]\&quot; [:user/name user-name]))&quot;, :offset 2205, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n;; --- 1. PODEŠAVANJA KONEKCIJE ---\n\n(def db-uri \&quot;datomic:dev://localhost:3306/bebetter\&quot;)\n\n(defn connect\n  \&quot;Povezuje se na bazu i vraća konekciju.\&quot;\n  []\n  (d/connect db-uri))\n\n(defn create-db!\n  \&quot;Kreira bazu ako ne postoji. Ovo se izvršava samo jednom!\&quot;\n  []\n  (println \&quot;Pokušavam da kreiram bazu na\&quot; db-uri)\n  (d/create-database db-uri))\n\n\n;; --- 2. DEFINICIJA ŠEME ---\n\n(def user-schema [{:db/ident :user/name\n                   :db/valueType :db.type/string\n                   :db/unique :db.unique/identity ; Ime korisnika mora biti jedinstveno\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Korisničko ime\&quot;}\n\n                  {:db/ident :user/xp\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Broj XP poena\&quot;}\n\n                  {:db/ident :user/level\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Nivo korisnika\&quot;}])\n\n(defn install-schema!\n  \&quot;Instalira šemu u bazu. Ovo se takođe izvršava samo jednom!\&quot;\n  [conn]\n  (println \&quot;Instaliram šemu...\&quot;)\n  @(d/transact conn user-schema))\n\n\n;; --- 3. FUNKCIJE ZA RAD SA KORISNICIMA ---\n\n(defn create-user!\n  \&quot;Kreira novog korisnika u bazi.\&quot;\n  [conn user-name]\n  (println \&quot;Dodajem korisnika:\&quot; user-name)\n  @(d/transact conn [{:user/name user-name\n                      :user/xp 0\n                      :user/level 0}]))\n\n;; Ova funkcija je malo kompleksnija, ali radi ispravno!\n(defn add-xp!\n  \&quot;Dodaje XP poene postojećem korisniku.\&quot;\n  [conn user-id amount]\n  (let [current-xp (d/q '[:find ?xp . ; tačka znači \&quot;vrati mi samo vrednost\&quot;\n                          :in $ ?user-id\n                          :where [?user-id :user/xp ?xp]]\n                        (d/db conn) user-id)\n        new-xp (+ (or current-xp 0) amount)]\n    (println \&quot;Menjam XP za korisnika\&quot; user-id \&quot;sa\&quot; current-xp \&quot;na\&quot; new-xp)\n    @(d/transact conn [{:db/id user-id, :user/xp new-xp}])))\n\n(defn find-user-by-name\n  \&quot;Pronalazi korisnika po imenu i vraća celu mapu.\&quot;\n  [db-val user-name]\n  (d/pull db-val \&quot;[*]\&quot; [:user/name user-name]))&quot;, :offset 2203, :ns &quot;project.core&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n;; --- 1. PODEŠAVANJA KONEKCIJE ---\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n\n(defn connect\n  \&quot;Povezuje se na bazu i vraća konekciju.\&quot;\n  []\n  (d/connect db-uri))\n\n(defn create-db!\n  \&quot;Kreira bazu ako ne postoji. Ovo se izvršava samo jednom!\&quot;\n  []\n  (println \&quot;Pokušavam da kreiram bazu na\&quot; db-uri)\n  (d/create-database db-uri))\n\n\n;; --- 2. DEFINICIJA ŠEME ---\n\n(def user-schema [{:db/ident :user/name\n                   :db/valueType :db.type/string\n                   :db/unique :db.unique/identity ; Ime korisnika mora biti jedinstveno\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Korisničko ime\&quot;}\n\n                  {:db/ident :user/xp\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Broj XP poena\&quot;}\n\n                  {:db/ident :user/level\n                   :db/valueType :db.type/long\n                   :db/cardinality :db.cardinality/one\n                   :db/doc \&quot;Nivo korisnika\&quot;}])\n\n(defn install-schema!\n  \&quot;Instalira šemu u bazu. Ovo se takođe izvršava samo jednom!\&quot;\n  [conn]\n  (println \&quot;Instaliram šemu...\&quot;)\n  @(d/transact conn user-schema))\n\n\n;; --- 3. FUNKCIJE ZA RAD SA KORISNICIMA ---\n\n(defn create-user!\n  \&quot;Kreira novog korisnika u bazi.\&quot;\n  [conn user-name]\n  (println \&quot;Dodajem korisnika:\&quot; user-name)\n  @(d/transact conn [{:user/name user-name\n                      :user/xp 0\n                      :user/level 0}]))\n\n;; Ova funkcija je malo kompleksnija, ali radi ispravno!\n(defn add-xp!\n  \&quot;Dodaje XP poene postojećem korisniku.\&quot;\n  [conn user-id amount]\n  (let [current-xp (d/q '[:find ?xp . ; tačka znači \&quot;vrati mi samo vrednost\&quot;\n                          :in $ ?user-id\n                          :where [?user-id :user/xp ?xp]]\n                        (d/db conn) user-id)\n        new-xp (+ (or current-xp 0) amount)]\n    (println \&quot;Menjam XP za korisnika\&quot; user-id \&quot;sa\&quot; current-xp \&quot;na\&quot; new-xp)\n    @(d/transact conn [{:db/id user-id, :user/xp new-xp}])))\n\n(defn find-user-by-name\n  \&quot;Pronalazi korisnika po imenu i vraća celu mapu.\&quot;\n  [db-val user-name]\n  (d/pull db-val \&quot;[*]\&quot; [:user/name user-name]))&quot;, :offset 2203, :ns &quot;project.core&quot;} {:command &quot;(create-db!)&quot;, :offset 12, :ns &quot;project.db&quot;} {:command &quot;(def conn (connect))&quot;, :offset 20, :ns &quot;project.db&quot;} {:command &quot;(install-schema! conn)&quot;, :offset 22, :ns &quot;project.db&quot;} {:command &quot;(create-user! conn \&quot;Uros\&quot;)\n(create-user! conn \&quot;Milan\&quot;)&quot;, :offset 54, :ns &quot;project.db&quot;} {:command &quot;(def db-snapshot (d/db conn)) ; Uzmi \&quot;sliku\&quot; baze u ovom trenutku\n(def uros (find-user-by-name db-snapshot \&quot;Uros\&quot;))\n(println uros)&quot;, :offset 130, :ns &quot;project.db&quot;} {:command &quot;(add-xp! conn (:db/id uros) 50)&quot;, :offset 31, :ns &quot;project.db&quot;} {:command &quot;(def db-snapshot-after (d/db conn))&quot;, :offset 35, :ns &quot;project.db&quot;} {:command &quot;(find-user-by-name db-snapshot-after \&quot;Uros\&quot;)&quot;, :offset 44, :ns &quot;project.db&quot;} {:command &quot;(d/delete-database db-uri\n                   )&quot;, :offset 45, :ns &quot;project.db&quot;} {:command &quot;(def db-uri \&quot;datomic:dev://localhost:4334/hello\&quot;)&quot;, :offset 49, :ns &quot;project.db&quot;} {:command &quot;conn&quot;, :offset 4, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [{:db/doc \&quot;Hello Niggers\&quot;}])&quot;, :offset 42, :ns &quot;project.db&quot;} {:command &quot;(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)&quot;, :offset 52, :ns &quot;project.db&quot;} {:command &quot;(d/create-database db-uri)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(def conn (d/connect db-uri\n                     ))&quot;, :offset 51, :ns &quot;project.db&quot;} {:command &quot;(def user-shema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])&quot;, :offset 884, :ns &quot;project.db&quot;} {:command &quot;users-db&quot;, :offset 8, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn users-db)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(defn add-user [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                          :user/level 0}]))&quot;, :offset 174, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?attr\n       :where [_ :db/ident ?attr]])&quot;, :offset 51, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?attr\n       :where [_ :db/ident ?attr]] db)&quot;, :offset 56, :ns &quot;project.db&quot;} {:command &quot;(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                          :user/level 0}]))&quot;, :offset 178, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e . \n                     :where [?e :user/username]])db)&quot;, :offset 85, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e \n                     :where [?e :user/username]]db))&quot;, :offset 29, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e . \n                     :where [?e :user/username]]db))&quot;, :offset 79, :ns &quot;project.db&quot;} {:command &quot; (d/q '[:find ?e .\n                     :where [?e :user/username]]db)&quot;, :offset 70, :ns &quot;project.db&quot;} {:command &quot; (d/q '[:find ?e .\n                     :where [?e :user/xp]]db)&quot;, :offset 18} {:command &quot;(d/q '[:find ?e . \n       :where [?e :user/username]] db)&quot;, :offset 51, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n(def user-shema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])\n\n(def db (d/db conn))\n\n(def users-db [{}])\n\n(def users-id (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                          :user/level 0}]))\n\n&quot;, :offset 1357, :ns &quot;project.db&quot;} {:command &quot;(d/transact conn user-shema)&quot;, :offset 27, :ns &quot;project.db&quot;} {:command &quot;(def users-db [{}])&quot;, :offset 19, :ns &quot;project.db&quot;} {:command &quot;(map #(d/pull db \&quot;[*]\&quot; %) users-ids)&quot;, :offset 16, :ns &quot;project.db&quot;} {:command &quot;\nusers-id&quot;, :offset 9, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e\n       :where [?e :user/username \&quot;Micko\&quot;]] db)&quot;, :offset 55, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e\n       :where [?e :user/]] db)&quot;, :offset 40, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e\n       :where [?e :user/username ]] db)&quot;, :offset 49, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e .\n                     :where [?e :user/username]]db))&quot;, :offset 84, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e .\n                     :where [?e :user/username]]db) (println users-id\n                                                             ))&quot;, :offset 165, :ns &quot;project.db&quot;} {:command &quot;(def users-id (d/q '[:find ?e .\n                     :where [?e :user/username]]db) )&quot;, :offset 84, :ns &quot;project.db&quot;} {:command &quot;users-id&quot;, :offset 8, :ns &quot;project.db&quot;} {:command &quot;(map (fn [user-id] (d/pull db \&quot;[*]\&quot; user-id)) users-id)&quot;, :offset 54, :ns &quot;project.db&quot;} {:command &quot;(map (fn [user-id] (d/pull db \&quot;[*]\&quot; user-id)users-id) )&quot;, :offset 52, :ns &quot;project.db&quot;} {:command &quot;(map #(d/pull db \&quot;[*]\&quot; %) users-id)&quot;, :offset 35, :ns &quot;project.db&quot;} {:command &quot;(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))&quot;, :offset 84, :ns &quot;project.db&quot;} {:command &quot;(map #(d/pull db \&quot;[*]\&quot; %) user-ids)&quot;, :offset 34, :ns &quot;project.db&quot;} {:command &quot;(def db-sada (d/db conn))&quot;, :offset 25, :ns &quot;project.db&quot;} {:command &quot;db-sada&quot;, :offset 7, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?username ?xp ?level\n       :where\n       ;; Obrazac koji tražimo:\n       ;; Pronađi entitet ?e koji ima...\n       [?e :user/username ?username]  ;; ...username sa vrednošću ?username\n       [?e :user/xp ?xp]              ;; ...xp sa vrednošću ?xp\n       [?e :user/level ?level]]       ;; ...level sa vrednošću ?level\n     db-sada)&quot;, :offset 344, :ns &quot;project.db&quot;} {:command &quot;(def user-ids (d/q '[:find ?e . ; tačka znači \&quot;daj mi samo vrednosti, ne liste\&quot;\n                     :where [?e :user/username]]\n                   db-sada))&quot;, :offset 157, :ns &quot;project.db&quot;} {:command &quot;(map #(d/pull db-sada \&quot;[*]\&quot; %) user-ids)&quot;, :offset 40, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find (pull ?e [*]) .\n       :where [?e :user/username]]\n     db-sada)&quot;, :offset 77, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))&quot;, :offset 49, :ns &quot;project.core&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n(def user-shema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])\n;@(d/transact conn user-shema)\n(def db (d/db conn))\n\n(def users-db [{}])\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n(map (fn [user-id] ))\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                          :user/level 0}]))\n\n&quot;, :offset 1408, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn user-shema)&quot;, :offset 29, :ns &quot;project.db&quot;} {:command &quot;(create-user! \&quot;Micko\&quot;)&quot;, :offset 20, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?name\n       :where [?name :user/username ?name]\n       ]db)&quot;, :offset 72, :ns &quot;project.db&quot;} {:command &quot;(create-user! \&quot;Milan\&quot;)\n&quot;, :offset 23, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?name\n       :where [?name :user/username]\n       ]db)&quot;, :offset 54, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?name\n       :where [_ :user/username]\n       [?e :user/username ?name]\n       ]db)&quot;, :offset 83, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find (pull ?e [*]) . \n       :where [?e :user/username]] db)&quot;, :offset 67, :ns &quot;project.db&quot;} {:command &quot;(defn db-pull (d/q '[:find (pull ?e [*]) .\n                     :where [?e :user/username]] db))&quot;, :offset 96, :ns &quot;project.db&quot;} {:command &quot;(defn db-pull [db] (d/q '[:find (pull ?e [*]) .\n                     :where [?e :user/username]] db))&quot;, :offset 101, :ns &quot;project.db&quot;} {:command &quot;(defn db-pull [db] (d/q '[:find (pull ?e [*]) \n                     :where [?e :user/username]] db))&quot;, :offset 100, :ns &quot;project.db&quot;} {:command &quot;(db-pull db)&quot;, :offset 11, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp [username xp] @(d/transact conn [( + xp (d/q '[:find (pull ?e [*])\n                                                            :where [?e :user/username username]\n                                                            ] db))]))&quot;, :offset 245, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp [username xp] @(d/transact conn [( + xp (d/q '[:find ?xp\n                                                            :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                            ] db))]))&quot;, :offset 313, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?xp\n       :where [?e :user/username username]\n       [?e :user/xp ?xp]\n       ] db)&quot;, :offset 97, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?xp\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ] db)&quot;, :offset 56, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))&quot;, :offset 298, :ns &quot;project.db&quot;} {:command &quot;(add-xp \&quot;Micko\&quot; 40)&quot;, :offset 18, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e ?xp\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)&quot;, :offset 104, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))&quot;, :offset 350, :ns &quot;project.db&quot;} {:command &quot;(get-all-users)&quot;, :offset 14, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))&quot;, :offset 135, :ns &quot;project.db&quot;} {:command &quot;(add-xp)&quot;, :offset 7} {:command &quot;(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))&quot;, :offset 128, :ns &quot;project.db&quot;} {:command &quot;(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))&quot;, :offset 105, :ns &quot;project.db&quot;} {:command &quot;()&quot;, :offset 1} {:command &quot;(def db (d/db conn))&quot;, :offset 20, :ns &quot;project.db&quot;} {:command &quot;(get-all-users db\n               )&quot;, :offset 15, :ns &quot;project.db&quot;} {:command &quot;(add-xp conn db \&quot;Micko\&quot; 40)&quot;, :offset 27, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find (pull ?e [*])\n       :where [?e :user/username]] db)&quot;, :offset 59, :ns &quot;project.core&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n;(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n(def user-shema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])\n@(d/transact conn user-shema)\n(def db (d/db conn))\n\n(def users-db [{}])\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n(map (fn [user-id] ))\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              :user/level 0}]))\n; pokusaj 1\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n\n\n(d/q '[:find ?e ?xp\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)&quot;, :offset 2375, :ns &quot;project.db&quot;} {:command &quot;get-all-users&quot;, :offset 13, :ns &quot;project.db&quot;} {:command &quot;(get-all-users db)&quot;, :offset 17, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n;(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n(def user-shema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])\n@(d/transact conn user-shema)\n(def db (d/db conn))\n\n(def users-db [{}])\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n(map (fn [user-id] ))\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              :user/level 0}]))\n; pokusaj 1\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]] db ))]))\n\n\n(d/q '[:find ?e ?xp\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)&quot;, :offset 2622, :ns &quot;project.db&quot;} {:command &quot;(defn add-xp-4 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (d/q '[:find ?e ?xp\n               :in $ ?username\n               :where [?e :user/username ?username]\n               [?e :user/xp ?xp]]\n             db username)\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])))&quot;, :offset 333, :ns &quot;project.db&quot;}], :remote []}}</component>
  <component name="RunManager">
    <configuration default="true" type="Babashka" factoryName="BabashkaLocalRepl" activateToolWindowBeforeRun="false">
      <setting name="displayName" value="" />
      <setting name="bbPath" value="" />
      <setting name="parameters" value="" />
      <option name="PARENT_ENVS" value="true" />
      <setting name="workingDir" value="" />
      <setting name="focusEditor" value="false" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="REPL for ProjectV1" type="ClojureREPL" factoryName="Local" activateToolWindowBeforeRun="false">
      <option name="configVersion" value="1" />
      <option name="displayName" value="REPL for ProjectV1" />
      <option name="execution" value="LEININGEN" />
      <module name="ProjectV1" />
      <option name="options" />
      <option name="profiles" />
      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
      <method v="2" />
    </configuration>
    <configuration default="true" type="ClojureREPL" factoryName="Local" activateToolWindowBeforeRun="false">
      <option name="configVersion" value="1" />
      <option name="options" />
      <option name="profiles" />
      <method v="2" />
    </configuration>
    <configuration default="true" type="ClojureREPL" factoryName="Remote" activateToolWindowBeforeRun="false">
      <setting name="displayName" value="" />
      <setting name="host" value="" />
      <setting name="port" value="0" />
      <setting name="replType" value="SOCKET" />
      <setting name="configType" value="SPECIFY" />
      <setting name="replPortFileType" value="STANDARD" />
      <setting name="customPortFile" value="" />
      <setting name="fixLineNumbers" value="false" />
      <setting name="useHeartbeat" value="true" />
      <setting name="focusEditor" value="false" />
      <setting name="urlFile" value="" />
      <method v="2" />
    </configuration>
  </component>
  <component name="SharedIndexes">
    <attachedChunks>
      <set>
        <option value="bundled-jdk-9823dce3aa75-fbdcb00ec9e3-intellij.indexing.shared.core-IU-251.25410.129" />
        <option value="bundled-js-predefined-d6986cc7102b-6a121458b545-JavaScript-IU-251.25410.129" />
      </set>
    </attachedChunks>
  </component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="4d338447-6f3a-43e8-ab8c-95e214f36644" name="Changes" comment="" />
      <created>1767121985479</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1767121985479</updated>
      <workItem from="1767121986415" duration="3674000" />
      <workItem from="1767181139032" duration="1494000" />
      <workItem from="1767351215899" duration="6476000" />
      <workItem from="1767379148928" duration="2673000" />
      <workItem from="1767381868455" duration="67000" />
      <workItem from="1767472762290" duration="1088000" />
      <workItem from="1767537145030" duration="11000" />
      <workItem from="1767625268145" duration="5102000" />
      <workItem from="1767694847080" duration="851000" />
    </task>
    <task id="LOCAL-00001" summary="Ucitan je Datomic, sad vezbam koriscenje kroz dokumentaciju">
      <option name="closed" value="true" />
      <created>1767125847824</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1767125847824</updated>
    </task>
    <task id="LOCAL-00002" summary="Dodate neke default funkcije koje rade sa bazom u datomicu">
      <option name="closed" value="true" />
      <created>1767367199446</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1767367199446</updated>
    </task>
    <task id="LOCAL-00003" summary="Uradjene kreiraj korisnika i dodaj xp u bazi">
      <option name="closed" value="true" />
      <created>1767381886292</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1767381886292</updated>
    </task>
    <task id="LOCAL-00004" summary="Uradjene kreiraj korisnika i dodaj xp u bazi 2">
      <option name="closed" value="true" />
      <created>1767483540530</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1767483540530</updated>
    </task>
    <task id="LOCAL-00005" summary="Provezbana funkcija add-xp">
      <option name="closed" value="true" />
      <created>1767634382925</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1767634382925</updated>
    </task>
    <option name="localTasksCounter" value="6" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="Ucitan je Datomic, sad vezbam koriscenje kroz dokumentaciju" />
    <MESSAGE value="Dodate neke default funkcije koje rade sa bazom u datomicu" />
    <MESSAGE value="Uradjene kreiraj korisnika i dodaj xp u bazi" />
    <MESSAGE value="Uradjene kreiraj korisnika i dodaj xp u bazi 2" />
    <MESSAGE value="Provezbana funkcija add-xp" />
    <option name="LAST_COMMIT_MESSAGE" value="Provezbana funkcija add-xp" />
  </component>
</project>