<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="4d338447-6f3a-43e8-ab8c-95e214f36644" name="Changes" comment="Fixed add-activity-tx,&#10;user-activities -&gt; query for finding all activities of one user">
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.nrepl-port" beforeDir="false" afterPath="$PROJECT_DIR$/.nrepl-port" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/project/db.clj" beforeDir="false" afterPath="$PROJECT_DIR$/src/project/db.clj" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/target/classes/META-INF/maven/ProjectV1/ProjectV1/pom.properties" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/META-INF/maven/ProjectV1/ProjectV1/pom.properties" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/target/repl-port" beforeDir="false" afterPath="$PROJECT_DIR$/target/repl-port" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/test/project/uredno_test.clj" beforeDir="false" afterPath="$PROJECT_DIR$/test/project/uredno_test.clj" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="Clojure Namespace" />
      </list>
    </option>
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="GitHubPullRequestSearchHistory">{
  &quot;lastFilter&quot;: {
    &quot;state&quot;: &quot;OPEN&quot;,
    &quot;assignee&quot;: &quot;micko112&quot;
  }
}</component>
  <component name="GithubPullRequestsUISettings">{
  &quot;selectedUrlAndAccountId&quot;: {
    &quot;url&quot;: &quot;https://github.com/micko112/ClojureProject.git&quot;,
    &quot;accountId&quot;: &quot;3764571a-842a-40c7-838d-20632f3769b4&quot;
  }
}</component>
  <component name="HighlightingSettingsPerFile">
    <setting file="file://$PROJECT_DIR$/src/project/db.clj" root0="FORCE_HIGHLIGHTING" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;associatedIndex&quot;: 5
}</component>
  <component name="ProjectId" id="37ZsZpPnuy4tgd50LQGXH7cfGlR" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">{
  &quot;keyToString&quot;: {
    &quot;Clojure REPL.REPL for ProjectV1.executor&quot;: &quot;Run&quot;,
    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
    &quot;cursive.last.file.extension.C\\:/xampp/htdocs/Clojure/Clojure for Brave and True/ProjectV1/src&quot;: &quot;clj&quot;,
    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
    &quot;last_opened_file_path&quot;: &quot;C:/xampp/htdocs/Clojure/Clojure for Brave and True/ProjectV1/project.clj&quot;,
    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.lookFeel&quot;,
    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
  },
  &quot;keyToStringList&quot;: {
    &quot;GitStage.ChangesTree.GroupingKeys&quot;: [
      &quot;directory&quot;,
      &quot;module&quot;,
      &quot;repository&quot;
    ]
  }
}</component>
  <component name="ReplState" timestamp="1767914825838">{:repl-history {:ide [], :local [{:command &quot;@(d/transact conn [[:db.fn/call :db/add-xp \&quot;Micko\&quot; 40]])&quot;, :offset 56, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn\n             [[:db.fn/call :user/add-xp \&quot;Micko\&quot; 40]])&quot;, :offset 71, :ns &quot;project.db&quot;} {:command &quot;(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         {:lang \&quot;clojure\&quot;\n                          :params '[db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db 'username))]\n                                  [[:db/add e :user/xp (+ current-xp 'xp)]])})})&quot;, :offset 663, :ns &quot;project.db&quot;} {:command &quot;(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params '[db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db 'username))]\n                                  [[:db/add e :user/xp (+ current-xp 'xp)]])})})&quot;, :offset 664, :ns &quot;project.db&quot;} {:command &quot;(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         {:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})&quot;, :offset 660, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:user/add-xp \&quot;Micko\&quot; 40]])&quot;, :offset 43, :ns &quot;project.db&quot;} {:command &quot;(def activity-schema [{:db/ident :activity/user\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;User who performed activity\&quot;}\n                      {:db/ident :activity/type\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Main type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/subtype\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Optional type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/duration\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Duration of activity in minutes.\&quot;}\n                      {:db/ident :activity/intensity\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Intensity of activity on scale 1-5\&quot;}\n                      {:db/ident :activity/at\n                       :db/valueType :db.type/instant\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;When activity happened\&quot;}\n                      ])&quot;, :offset 1425, :ns &quot;project.db&quot;} {:command &quot;(def activity-type-schema [{:db/ident :activity-type/key\n                            :db/valueType :db.type/keyword\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Key word type of activity\&quot;}\n                           {:db/ident :activity-type/name\n                            :db/valueType :db.type/string\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Name of activity type\&quot;}\n                           {:db/ident :activity-type/xp-per-minute\n                            :db/valueType :db.type/long\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Xp per minute\&quot;}\n                           ])&quot;, :offset 755, :ns &quot;project.db&quot;} {:command &quot;{:db/ident :activity/type\n :db/valueType :db.type/ref\n :db/cardinality :db.cardinality/one\n :db/doc \&quot;Activity type reference\&quot;}&quot;, :offset 126, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn activity-type-schema)&quot;, :offset 39, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn\n             [{:activity-type/key :training\n               :activity-type/name \&quot;Training\&quot;\n               :activity-type/xp-per-minute 10}\n\n              {:activity-type/key :study\n               :activity-type/name \&quot;Study\&quot;\n               :activity-type/xp-per-minute 6}\n\n              {:activity-type/key :coding\n               :activity-type/name \&quot;Coding\&quot;\n               :activity-type/xp-per-minute 8}\n\n              {:activity-type/key :work\n               :activity-type/name \&quot;Work\&quot;\n               :activity-type/xp-per-minute 5}\n\n              {:activity-type/key :hobby\n               :activity-type/name \&quot;Hobby / Yard work\&quot;\n               :activity-type/xp-per-minute 7}])&quot;, :offset 697, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?key ?name\n       :where\n       [?e :activity-type/key ?key]\n       [?e :activity-type/name ?name]]\n     db)&quot;, :offset 121, :ns &quot;project.db&quot;} {:command &quot;{:activity-type/key :work\n               :activity-type/name \&quot;Work\&quot;\n               :activity-type/xp-per-minute 8\n }&quot;, :offset 115, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [{:activity-type/key :work\n               :activity-type/name \&quot;Work\&quot;\n               :activity-type/xp-per-minute 8\n }])&quot;, :offset 137, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?key ?name ?xp\n       :where\n       [?e :activity-type/key ?key]\n       [?e :activity-type/name ?name]\n       [?e :activity-type/xp-per-minute ?xp]]\n     db)&quot;, :offset 159, :ns &quot;project.db&quot;} {:command &quot;(users-db)&quot;, :offset 10, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:db/retractEntity 17592186045458]])&quot;, :offset 55, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e ?key ?name ?xp\n       :where\n       [?e :activity-type/key ?key]\n       [?e :activity-type/name ?name]\n       [?e :activity-type/xp-per-minute ?xp]]\n     db)&quot;, :offset 44, :ns &quot;project.db&quot;} {:command &quot;(d/delete-database db-uri)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]\n            [database.schema :as schema]\n            [database.seed :as seed]))&quot;, :offset 127, :ns &quot;project.core&quot;} {:command &quot;(require 'database.seed :reload)&quot;, :offset 32, :ns &quot;project.db&quot;} {:command &quot;(use 'clojure.set)&quot;, :offset 18, :ns &quot;project.db&quot;} {:command &quot;(def user-schema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 {:db/ident       :user/level\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Level of user\&quot;}\n                 {:db/ident       :user/rang\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Rang on leaderboard of user\&quot;}\n                 ])&quot;, :offset 885, :ns &quot;database.schema&quot;} {:command &quot;(def activity-schema [{:db/ident :activity/user\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;User who performed activity\&quot;}\n                      {:db/ident :activity/type\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Main type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/subtype\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Optional type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/duration\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Duration of activity in minutes.\&quot;}\n                      {:db/ident :activity/intensity\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Intensity of activity on scale 1-5\&quot;}\n                      {:db/ident :activity/at\n                       :db/valueType :db.type/instant\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;When activity happened\&quot;}\n                      ])&quot;, :offset 1421, :ns &quot;database.schema&quot;} {:command &quot;(def activity-type-schema [{:db/ident :activity-type/key\n                            :db/valueType :db.type/keyword\n                            :db/cardinality :db.cardinality/one\n                            :db/unique      :db.unique/identity\n                            :db/doc \&quot;Key word type of activity\&quot;}\n                           {:db/ident :activity-type/name\n                            :db/valueType :db.type/string\n                            :db/cardinality :db.cardinality/one\n                            :db/unique      :db.unique/identity\n                            :db/doc \&quot;Name of activity type\&quot;}\n                           {:db/ident :activity-type/xp-per-minute\n                            :db/valueType :db.type/long\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Xp per minute\&quot;}\n                           ])&quot;, :offset 883, :ns &quot;database.schema&quot;} {:command &quot;(d/create-database db-uri)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(def conn (d/connect db-uri))&quot;, :offset 29, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn schema/user-schema)&quot;, :offset 37, :ns &quot;project.db&quot;} {:command &quot;(def db (d/db conn))\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n(map (fn [user-id] ))\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              :user/level 0}]))\n; pokusaj 1\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n#_(defn add-xp-3 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]] db ))]))\n\n\n#_(defn add-xp-4 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (d/q)]))\n#_(d/q '[:find ?e ?xp\n       :in $ ?username\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)\n\n; Transakciona funckija\n(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})\n;@(d/transact conn [add-xp-tx])\n\n;@(d/transact conn [[:user/add-xp \&quot;Micko\&quot; 40]])\n\n\n@(d/transact conn schema/activity-schema)\n\n(def db (d/db conn))\n@(d/transact conn schema/activity-type-schema)&quot;, :offset 2519, :ns &quot;project.db&quot;} {:command &quot;{:db/ident :activity/at\n :db/valueType :db.type/instant\n :db/cardinality :db.cardinality/one\n :db/index true}\n\n{:db/ident :activity/user\n :db/valueType :db.type/ref\n :db/cardinality :db.cardinality/one\n :db/index true}&quot;, :offset 218, :ns &quot;project.db&quot;} {:command &quot;{:db/ident :activity-type/name\n                            :db/valueType :db.type/string\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Name of activity type\&quot;}&quot;, :offset 152, :ns &quot;project.db&quot;} {:command &quot;(ns database.schema\n  (:require [datomic.api :as d ]))\n\n\n(def user-schema [{:db/ident       :user/username\n                  :db/valueType   :db.type/string\n                  :db/cardinality :db.cardinality/one\n                  :db/unique      :db.unique/identity\n                  :db/doc         \&quot;Username\&quot;}\n                 {:db/ident       :user/xp\n                  :db/valueType   :db.type/long\n                  :db/cardinality :db.cardinality/one\n                  :db/doc         \&quot;Experience of user\&quot;}\n                 ])\n;@(d/transact conn user-shema)\n(def activity-schema [{:db/ident :activity/user\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;User who performed activity\&quot;}\n                      {:db/ident :activity/type\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Main type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/subtype\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Optional type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/duration\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Duration of activity in minutes.\&quot;}\n                      {:db/ident :activity/intensity\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Intensity of activity on scale 1-5\&quot;}\n                      {:db/ident :activity/at\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;When activity happened\&quot;}\n                      ])\n;@(d/transact conn activity-schema)\n\n\n(def activity-type-schema [{:db/ident :activity-type/key\n                            :db/valueType :db.type/keyword\n                            :db/cardinality :db.cardinality/one\n                            :db/unique      :db.unique/identity\n                            :db/doc \&quot;Key word type of activity\&quot;}\n                           {:db/ident :activity-type/name\n                            :db/valueType :db.type/string\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Name of activity type\&quot;}\n                           {:db/ident :activity-type/xp-per-minute\n                            :db/valueType :db.type/long\n                            :db/cardinality :db.cardinality/one\n                            :db/doc \&quot;Xp per minute\&quot;}\n                           ])\n;@(d/transact conn activity-type-schema)&quot;, :offset 2955, :ns &quot;project.db&quot;} {:command &quot;(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)&quot;, :offset 52, :ns &quot;project.db&quot;} {:command &quot;@(d/delete-database db-uri)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(db/delete-database db-uri)&quot;, :offset 26, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]\n            [database.schema :as schema]\n            [database.seed :as seed-db]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n@(d/transact conn schema/user-schema)\n(def db (d/db conn))\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              :user/level 0}]))\n; pokusaj 1\n()\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n#_(defn add-xp-3 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]] db ))]))\n#_(defn add-xp-4 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (d/q)]))\n#_(d/q '[:find ?e ?xp\n       :in $ ?username\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)\n\n; Transakciona funckija\n(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})\n\n;@(d/transact conn [add-xp-tx])\n;@(d/transact conn [[:user/add-xp \&quot;Micko\&quot; 40]])\n\n@(d/transact conn schema/activity-schema)\n\n(def db (d/db conn))\n@(d/transact conn schema/activity-type-schema)\n\n\n\n&quot;, :offset 2783, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn schema/activity-type-schema)&quot;, :offset 46, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e ?name\n       :where [?e :activity-type/name ?name]] db)&quot;, :offset 71, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?name\n       :where [?e :activity-type/name ?name]] db)&quot;, :offset 68, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn seed/initial-activities)&quot;, :offset 41, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?name\n       :where [?e :activity-type/key ?name]] db)&quot;, :offset 55, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]\n            [database.schema :as schema]\n            [database.seed :as seed-db]))&quot;, :offset 130, :ns &quot;project.core&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d ]\n            [database.schema :as schema]\n            [database.seed :as seed-db]))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n@(d/transact conn schema/user-schema)\n(def db (d/db conn))\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              :user/level 0}]))\n; pokusaj 1\n()\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n#_(defn add-xp-3 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]] db ))]))\n#_(defn add-xp-4 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (d/q)]))\n#_(d/q '[:find ?e ?xp\n       :in $ ?username\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)\n\n; Transakciona funckija\n(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})\n\n;@(d/transact conn [add-xp-tx])\n;@(d/transact conn [[:user/add-xp \&quot;Micko\&quot; 40]])\n\n;@(d/transact conn schema/activity-schema)\n\n(def db (d/db conn))\n;@(d/transact conn schema/activity-type-schema)\n\n\n\n\n&quot;, :offset 2786, :ns &quot;project.core&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                   :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                        :params [db username activity-type-key duration intensity at]\n                                        :code (let [\n                                                    user-e\n                                                    (first (d/q '[:find ?e\n                                                           :in $ ?username\n                                                           :where [?e :user/username ?username]]\n                                                         db username))\n                                                    [act-type-e xp-per-min]\n                                                    (first (d/q '[:find ?e ?xp-per-minute\n                                                                  :in $ ?type\n                                                                  :where [?e :activity-type/key ?type]\n                                                                  [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                  ] db activity-type-key))\n                                                    gained-xp (* duration xp-per-min intensity)\n                                                    current-xp (or (first (d/q '[:find ?xp\n                                                                                 :in $ ?u\n                                                                                 :where [?u :user/xp ?xp]] db user-e\n                                                                            )) 0)\n                                                    new-xp (+ current-xp gained-xp)\n                                                    activity-id (d/tempid :db.part/user)]\n                                                [\n                                                 {:db/id activity-id\n                                                  :activity/user user-e\n                                                  :activity/type act-type-e\n                                                  :activity/duration duration\n                                                  :activity/intensity intensity\n                                                  :activity/at at}\n                                                 [:db/add user-e :user/xp new-xp\n                                                  ]])})})&quot;, :offset 2460, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 (Date)]])&quot;, :offset 66, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 java.util.Date]])&quot;, :offset 74, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 (Date.)]])&quot;, :offset 67, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 java.util.Date.\n                    ]])&quot;, :offset 96, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 (\n                                                           java.util.Date.)\n                    ]])&quot;, :offset 158, :ns &quot;project.db&quot;} {:command &quot;(def initial-type-activities\n  [{:activity-type/key :training\n    :activity-type/name \&quot;Training\&quot;\n    :activity-type/xp-per-minute 10}\n   {:activity-type/key :study\n    :activity-type/name \&quot;Study\&quot;\n    :activity-type/xp-per-minute 6}\n   {:activity-type/key :coding\n    :activity-type/name \&quot;Coding\&quot;\n    :activity-type/xp-per-minute 8}\n   {:activity-type/key :work\n    :activity-type/name \&quot;Work\&quot;\n    :activity-type/xp-per-minute 8}\n   {:activity-type/key :hobby\n    :activity-type/name \&quot;Hobby / Yard work\&quot;\n    :activity-type/xp-per-minute 7}])&quot;, :offset 539, :ns &quot;database.seed&quot;} {:command &quot;@(d/transact conn seed-db/initial-type-activities)&quot;, :offset 50, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?key\n       :where [?key :activity-type/key ?key]] db)&quot;, :offset 11, :ns &quot;project.db&quot;} {:command &quot;(first (d/q '[:find ?e ?xp-per-minute\n              :in $ ?type\n              :where [?e :activity-type/key ?type]\n              [?e :activity-type/xp-per-minute ?xp-per-minute]\n              ] db))&quot;, :offset 196, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e ?xp-per-minute\n       :in $ ?type\n       :where [?e :activity-type/key ?type]\n       [?e :activity-type/xp-per-minute ?xp-per-minute]\n       ] db)&quot;, :offset 162, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find (pull ?e [*])\n       :where [?e :activity-type/key]] db)&quot;, :offset 63, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (first (d/q '[:find ?e .\n                                                                     :in $ ?username\n                                                                     :where [?e :user/username ?username]]\n                                                                   db username))\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute .\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (first (d/q '[:find ?xp .\n                                                                                    :in $ ?u\n                                                                                    :where [?u :user/xp ?xp]] db user-e\n                                                                                  )) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2587, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (first (d/q '[:find ?e .\n                                                                     :in $ ?username\n                                                                     :where [?e :user/username ?username]]\n                                                                   db username))\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute \n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (first (d/q '[:find ?xp .\n                                                                                    :in $ ?u\n                                                                                    :where [?u :user/xp ?xp]] db user-e\n                                                                                  )) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2586, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute .\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (first (d/q '[:find ?xp \n                                                                                    :in $ ?u\n                                                                                    :where [?u :user/xp ?xp]] db user-e\n                                                                                  )) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2557, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (first (d/q '[:find ?xp \n                                                                                    :in $ ?u\n                                                                                    :where [?u :user/xp ?xp]] db user-e\n                                                                                  )) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2555, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (d/q '[:find ?xp\n                                                                             :in $ ?u\n                                                                             :where [?u :user/xp ?xp]] db user-e\n                                                                           ) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2525, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       current-xp (or (d/q '[:find ?xp .\n                                                                             :in $ ?u\n                                                                             :where [?u :user/xp ?xp]] db user-e\n                                                                           ) 0)\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2527, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n                                                       \n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n                                                       \n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2376, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e .\n       :where [?e :user/username \&quot;Micko\&quot;]]\n     (d/db conn))&quot;, :offset 78, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?e .\n       :where [?e :activity-type/key :training]]\n     (d/db conn))&quot;, :offset 84, :ns &quot;project.db&quot;} {:command &quot;(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              }]))&quot;, :offset 169, :ns &quot;project.db&quot;} {:command &quot;(create-user! \&quot;Micko\&quot;)&quot;, :offset 20, :ns &quot;project.db&quot;} {:command &quot;{:db/ident :activity/at\n                       :db/valueType :db.type/instant\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;When activity happened\&quot;}&quot;, :offset 231, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn activity-schema)&quot;, :offset 34, :ns &quot;database.schema&quot;} {:command &quot;(d/pull (d/db conn) [:db/valueType] :activity/at)&quot;, :offset 49, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at at}\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2266, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 (java.util.Date.)]])&quot;, :offset 77, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity at]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     }\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2251, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     }\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2248, :ns &quot;project.db&quot;} {:command &quot;(ns project.db\n  (:require [datomic.api :as d]\n            [database.schema :as schema]\n            [database.seed :as seed-db])\n  (:import (java.util Date)))\n\n(def db-uri \&quot;datomic:dev://localhost:4334/bebetter\&quot;)\n(d/create-database db-uri)\n(def conn (d/connect db-uri))\n\n@(d/transact conn schema/user-schema)\n(def db (d/db conn))\n\n(def user-ids (d/q '[:find ?e .\n                     :where [?e :user/username]]db))\n\n(defn get-all-users [db] (d/q '[:find (pull ?e [*])\n                     :where [?e :user/username]] db))\n\n(defn create-user! [name] @(d/transact conn [{:user/username name\n                                          :user/xp 0\n                                              }]))\n; pokusaj 1\n()\n#_(defn add-xp [username xp] @(d/transact conn [(+ xp (d/q '[:find ?xp\n                                                     :where [?e :user/username username]\n                                                            [?e :user/xp ?xp]\n                                                     ] db))]))\n; pokusaj 2 sa pomoci jer ne bih znao sam\n(defn add-xp [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]\n                      ]\n                    db username))\n        new-xp (+ current-xp xp-to-add)]\n    @(d/transact conn [[:db/add e :user/xp new-xp]])\n    ))\n#_(defn add-xp-3 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (first (d/q '[:find ?e ?xp\n                      :in $ ?username\n                      :where [?e :user/username ?username]\n                      [?e :user/xp ?xp]] db ))]))\n#_(defn add-xp-4 [conn db username xp-to-add]\n  (let [[e current-xp]\n        (d/q)]))\n#_(d/q '[:find ?e ?xp\n       :in $ ?username\n       :where [?e :user/username \&quot;Micko\&quot;]\n       [?e :user/xp ?xp]\n       ]\n     db)\n\n; Transakciona funckija\n(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})\n\n;@(d/transact conn [add-xp-tx])\n;@(d/transact conn [[:user/add-xp \&quot;Micko\&quot; 40]])\n\n\n\n@(d/transact conn schema/activity-schema)\n\n(def db (d/db conn))\n;@(d/transact conn schema/activity-type-schema)\n@(d/transact conn seed-db/initial-type-activities)\n\n(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     }\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})\n\n@(d/transact conn [add-activity-tx])\n;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 (java.util.Date.)]])\n;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 ]])&quot;, :offset 5277, :ns &quot;project.core&quot;} {:command &quot;(def add-xp-tx {:db/ident :user/add-xp\n                :db/fn (d/function\n                         '{:lang \&quot;clojure\&quot;\n                          :params [db username xp]\n                          :code (let [[e current-xp]\n                                      (first (d/q '[:find ?e ?xp\n                                                    :in $ ?username\n                                                    :where [?e :user/username ?username]\n                                                    [?e :user/xp ?xp]\n                                                    ] db username))]\n                                  [[:db/add e :user/xp (+ current-xp xp)]])})})&quot;, :offset 661, :ns &quot;project.db&quot;} {:command &quot;(def activity-schema [{:db/ident :activity/user\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;User who performed activity\&quot;}\n                      {:db/ident :activity/type\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Main type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/subtype\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Optional type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/duration\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Duration of activity in minutes.\&quot;}\n                      {:db/ident :activity/intensity\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Intensity of activity on scale 1-5\&quot;}\n                      {:db/ident :activity/at\n                       :db/valueType :db.type/instant\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;When activity happened\&quot;}\n                      ])&quot;, :offset 1497, :ns &quot;database.schema&quot;} {:command &quot;(def activity-schema [{:db/ident :activity/user\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;User who performed activity\&quot;}\n                      {:db/ident :activity/type\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Main type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/subtype\n                       :db/valueType :db.type/keyword\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Optional type of activity (training, work, studying etc.)\&quot;}\n                      {:db/ident :activity/duration\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Duration of activity in minutes.\&quot;}\n                      {:db/ident :activity/intensity\n                       :db/valueType :db.type/long\n                       :db/cardinality :db.cardinality/one\n                       :db/doc \&quot;Intensity of activity on scale 1-5\&quot;}\n                      {:db/ident :activity/at\n                       :db/valueType :db.type/ref\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;When activity happened\&quot;}\n                      {:db/ident :activity/start-time\n                       :db/valueType :db.type/instant\n                       :db/cardinality :db.cardinality/one\n                       :db/index true\n                       :db/doc \&quot;When activity happened\&quot;}\n                      ])&quot;, :offset 1755, :ns &quot;database.schema&quot;} {:command &quot;@(d/transact conn schema/activity-schema)&quot;, :offset 41, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :study 5 1 ]])&quot;, :offset 56, :ns &quot;project.db&quot;} {:command &quot;(get-all-users db)&quot;, :offset 17, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/at (java.util.Date.)\n                                                     }\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2332, :ns &quot;project.db&quot;} {:command &quot;(def add-activity-tx {:db/ident :activity/add\n                      :db/fn (d/function '{:lang \&quot;clojure\&quot;\n                                           :params [db username activity-type-key duration intensity]\n                                           :code (let [\n                                                       user-e\n                                                       (d/q '[:find ?e .\n                                                              :in $ ?username\n                                                              :where [?e :user/username ?username]]\n                                                            db username)\n                                                       [act-type-e xp-per-min]\n                                                       (first (d/q '[:find ?e ?xp-per-minute\n                                                                     :in $ ?type\n                                                                     :where [?e :activity-type/key ?type]\n                                                                     [?e :activity-type/xp-per-minute ?xp-per-minute]\n                                                                     ] db activity-type-key))\n                                                       gained-xp (* duration xp-per-min intensity)\n\n                                                       current-xp (or (:user/xp (d/entity db user-e)) 0)\n\n                                                       new-xp (+ current-xp gained-xp)\n                                                       activity-id (d/tempid :db.part/user)]\n                                                   [\n                                                    {:db/id activity-id\n                                                     :activity/user user-e\n                                                     :activity/type act-type-e\n                                                     :activity/duration duration\n                                                     :activity/intensity intensity\n                                                     :activity/start-time (java.util.Date.)\n                                                     }\n                                                    [:db/add user-e :user/xp new-xp\n                                                     ]])})})&quot;, :offset 2340, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [add-activity-tx])&quot;, :offset 36, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :training 60 3 ]])&quot;, :offset 60, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :when  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db)&quot;, :offset 354, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :when  [?u :user/username \&quot;Micko\&quot;]\n              [?a :activity/user ?u]\n       [?a :activity/type ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db)&quot;, :offset 122, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?u ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :when  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db)&quot;, :offset 357, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?u ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :when  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db)&quot;, :offset 373, :ns &quot;project.db&quot;} {:command &quot;[:find ?at ?duration ?intensity ?type-name\n :in $ ?username\n :where\n [?u :user/username ?username]\n [?a :activity/user ?u]\n [?a :activity/at ?at]\n [?a :activity/duration ?duration]\n [?a :activity/intensity ?intensity]\n [?a :activity/type ?t]\n [?t :activity-type/name ?type-name]]&quot;, :offset 279, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?at ?duration ?intensity ?type-name\n       :in $ ?username\n       :where\n       [?u :user/username ?username]\n       [?a :activity/user ?u]\n       [?a :activity/at ?at]\n       [?a :activity/duration ?duration]\n       [?a :activity/intensity ?intensity]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?type-name]] \n     db)&quot;, :offset 71} {:command &quot;(d/q '[:find ?u ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :where  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db)&quot;, :offset 104, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?u ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :where  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db \&quot;Micko\&quot;)&quot;, :offset 399, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :where\n       [?u :user/username ?username]\n       [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity]\n       [?a :activity/start-time ?a-start-time]]\n     db \&quot;Micko\&quot;)&quot;, :offset 386, :ns &quot;project.db&quot;} {:command &quot;@(d/transact conn [[:activity/add \&quot;Micko\&quot; :study 60 3 ]])&quot;, :offset 57, :ns &quot;project.db&quot;} {:command &quot;(def db (d/db conn))&quot;, :offset 20, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :where  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] db \&quot;Micko\&quot;)&quot;, :offset 398, :ns &quot;project.db&quot;} {:command &quot;(d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n       :in $ ?username\n       :where  [?u :user/username ?username]\n              [?a :activity/user ?u]\n       [?a :activity/type ?t]\n       [?t :activity-type/name ?a-type]\n       [?a :activity/duration ?a-duration]\n       [?a :activity/intensity ?a-intensity ]\n       [?a :activity/start-time ?a-start-time ]\n             ] (d/db conn) \&quot;Micko\&quot;)&quot;, :offset 407, :ns &quot;project.db&quot;} {:command &quot;(defn user-activities [username] (d/q '[:find ?a-type ?a-duration ?a-intensity ?a-start-time\n                                        :in $ ?username\n                                        :where  [?u :user/username ?username]\n                                        [?a :activity/user ?u]\n                                        [?a :activity/type ?t]\n                                        [?t :activity-type/name ?a-type]\n                                        [?a :activity/duration ?a-duration]\n                                        [?a :activity/intensity ?a-intensity ]\n                                        [?a :activity/start-time ?a-start-time ]\n                                        ] (d/db conn) username))&quot;, :offset 726, :ns &quot;project.db&quot;} {:command &quot;(user-activities \&quot;Micko\&quot;)&quot;, :offset 23, :ns &quot;project.db&quot;} {:command &quot;asd&quot;, :offset 3, :ns &quot;project.db&quot;}], :remote []}}</component>
  <component name="RunManager">
    <configuration default="true" type="Babashka" factoryName="BabashkaLocalRepl" activateToolWindowBeforeRun="false">
      <setting name="displayName" value="" />
      <setting name="bbPath" value="" />
      <setting name="parameters" value="" />
      <option name="PARENT_ENVS" value="true" />
      <setting name="workingDir" value="" />
      <setting name="focusEditor" value="false" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="REPL for ProjectV1" type="ClojureREPL" factoryName="Local" activateToolWindowBeforeRun="false">
      <option name="configVersion" value="1" />
      <option name="displayName" value="REPL for ProjectV1" />
      <option name="execution" value="LEININGEN" />
      <module name="ProjectV1" />
      <option name="options" />
      <option name="profiles" />
      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
      <method v="2" />
    </configuration>
    <configuration default="true" type="ClojureREPL" factoryName="Local" activateToolWindowBeforeRun="false">
      <option name="configVersion" value="1" />
      <option name="options" />
      <option name="profiles" />
      <method v="2" />
    </configuration>
    <configuration default="true" type="ClojureREPL" factoryName="Remote" activateToolWindowBeforeRun="false">
      <setting name="displayName" value="" />
      <setting name="host" value="" />
      <setting name="port" value="0" />
      <setting name="replType" value="SOCKET" />
      <setting name="configType" value="SPECIFY" />
      <setting name="replPortFileType" value="STANDARD" />
      <setting name="customPortFile" value="" />
      <setting name="fixLineNumbers" value="false" />
      <setting name="useHeartbeat" value="true" />
      <setting name="focusEditor" value="false" />
      <setting name="urlFile" value="" />
      <method v="2" />
    </configuration>
  </component>
  <component name="SharedIndexes">
    <attachedChunks>
      <set>
        <option value="bundled-jdk-9823dce3aa75-fbdcb00ec9e3-intellij.indexing.shared.core-IU-251.25410.129" />
        <option value="bundled-js-predefined-d6986cc7102b-6a121458b545-JavaScript-IU-251.25410.129" />
      </set>
    </attachedChunks>
  </component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="4d338447-6f3a-43e8-ab8c-95e214f36644" name="Changes" comment="" />
      <created>1767121985479</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1767121985479</updated>
      <workItem from="1767121986415" duration="3674000" />
      <workItem from="1767181139032" duration="1494000" />
      <workItem from="1767351215899" duration="6476000" />
      <workItem from="1767379148928" duration="2673000" />
      <workItem from="1767381868455" duration="67000" />
      <workItem from="1767472762290" duration="1088000" />
      <workItem from="1767537145030" duration="11000" />
      <workItem from="1767625268145" duration="5102000" />
      <workItem from="1767694847080" duration="18149000" />
      <workItem from="1767804228503" duration="9080000" />
      <workItem from="1767892649731" duration="8974000" />
      <workItem from="1767906416609" duration="5650000" />
    </task>
    <task id="LOCAL-00001" summary="Ucitan je Datomic, sad vezbam koriscenje kroz dokumentaciju">
      <option name="closed" value="true" />
      <created>1767125847824</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1767125847824</updated>
    </task>
    <task id="LOCAL-00002" summary="Dodate neke default funkcije koje rade sa bazom u datomicu">
      <option name="closed" value="true" />
      <created>1767367199446</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1767367199446</updated>
    </task>
    <task id="LOCAL-00003" summary="Uradjene kreiraj korisnika i dodaj xp u bazi">
      <option name="closed" value="true" />
      <created>1767381886292</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1767381886292</updated>
    </task>
    <task id="LOCAL-00004" summary="Uradjene kreiraj korisnika i dodaj xp u bazi 2">
      <option name="closed" value="true" />
      <created>1767483540530</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1767483540530</updated>
    </task>
    <task id="LOCAL-00005" summary="Provezbana funkcija add-xp">
      <option name="closed" value="true" />
      <created>1767634382925</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1767634382925</updated>
    </task>
    <task id="LOCAL-00006" summary="transakciona funkcija koja dodaje xp useru, kreirana sema aktivnosti/event koje user izvrsava da bi dobio xp, &#10;kreirana sema tipa aktivnosti koja ima main tip aktivnosti.&#10;odvajam kod u dva paketa db i main paket, &#10;i db.clj u dva fajla schema.clj, seed.clj gde cu imati back ako mi se nesto zezne kao na primer da ubacim dva worka...">
      <option name="closed" value="true" />
      <created>1767734960862</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1767734960862</updated>
    </task>
    <task id="LOCAL-00007" summary="transakciona funkcija koja dodaje xp useru, kreirana sema aktivnosti/event koje user izvrsava da bi dobio xp, &#10;kreirana sema tipa aktivnosti koja ima main tip aktivnosti.&#10;odvajam kod u dva paketa db i main paket, &#10;i db.clj u dva fajla schema.clj, seed.clj gde cu imati back ako mi se nesto zezne kao na primer da ubacim dva worka...">
      <option name="closed" value="true" />
      <created>1767734966394</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1767734966394</updated>
    </task>
    <task id="LOCAL-00008" summary="Uh, datomic je malo naporan iskreno, ali zanimljiv jer je sve kao u clojuru. Odvojio sam scheme i seed, pohvatao sam fazon sa transakcijama, i kako se sta pise">
      <option name="closed" value="true" />
      <created>1767742945250</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1767742945250</updated>
    </task>
    <task id="LOCAL-00009" summary="Kreirana funkcija activity/add, sustina app, na osnovu parametara se izracuna xp za odredjenu aktivnost">
      <option name="closed" value="true" />
      <created>1767812289892</created>
      <option name="number" value="00009" />
      <option name="presentableId" value="LOCAL-00009" />
      <option name="project" value="LOCAL" />
      <updated>1767812289893</updated>
    </task>
    <task id="LOCAL-00010" summary="Fixed add-activity-tx,&#10;user-activities -&gt; query for finding all activities of one user">
      <option name="closed" value="true" />
      <created>1767902122657</created>
      <option name="number" value="00010" />
      <option name="presentableId" value="LOCAL-00010" />
      <option name="project" value="LOCAL" />
      <updated>1767902122657</updated>
    </task>
    <option name="localTasksCounter" value="11" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="Ucitan je Datomic, sad vezbam koriscenje kroz dokumentaciju" />
    <MESSAGE value="Dodate neke default funkcije koje rade sa bazom u datomicu" />
    <MESSAGE value="Uradjene kreiraj korisnika i dodaj xp u bazi" />
    <MESSAGE value="Uradjene kreiraj korisnika i dodaj xp u bazi 2" />
    <MESSAGE value="Provezbana funkcija add-xp" />
    <MESSAGE value="transakciona funkcija koja dodaje xp useru, kreirana sema aktivnosti/event koje user izvrsava da bi dobio xp, &#10;kreirana sema tipa aktivnosti koja ima main tip aktivnosti" />
    <MESSAGE value="transakciona funkcija koja dodaje xp useru, kreirana sema aktivnosti/event koje user izvrsava da bi dobio xp, &#10;kreirana sema tipa aktivnosti koja ima main tip aktivnosti.&#10;odvajam kod u dva paketa db i main paket, &#10;i db.clj u dva fajla schema.clj, seed.clj gde cu imati back ako mi se nesto zezne kao na primer da ubacim dva worka..." />
    <MESSAGE value="Uh, datomic je malo naporan iskreno, ali zanimljiv jer je sve kao u clojuru. Odvojio sam scheme i seed, pohvatao sam fazon sa transakcijama, i kako se sta pise" />
    <MESSAGE value="Kreirana funkcija activity/add, sustina app, na osnovu parametara se izracuna xp za odredjenu aktivnost" />
    <MESSAGE value="Fixed add-activity-tx,&#10;user-activities -&gt; query for finding all activities of one user" />
    <option name="LAST_COMMIT_MESSAGE" value="Fixed add-activity-tx,&#10;user-activities -&gt; query for finding all activities of one user" />
  </component>
</project>